<link rel="import" href="../../bower_components/polymer/polymer.html">

<polymer-element name="main-panel">
  <template>
    <core-drawer-panel id="drawer" forceNarrow="true">

      <core-header-panel drawer>
        <core-toolbar>Menu</core-toolbar>
        <content select="[menu]" id="menu"></content>
      </core-header-panel>

      <core-header-panel main mode="seamed">
        <core-toolbar>
          <core-icon-button icon="menu" core-drawer-toggle></core-icon-button>
        </core-toolbar>
        <div class="content" fit>
          <content select="[pages]" id="pages"></content>
       </div>
      </core-header-panel>

    </core-drawer-panel>
  </template>
  <script>
    Polymer('main-panel', {
      ready: function(){
        this.initMenu();
        this.initPages();
      },
      initMenu: function(){
        this.menu = this.$.menu.getDistributedNodes()[0];
        this.menu.addEventListener('core-select',this.onSelectMenu.bind(this));
      },
      initPages: function(){
        this.pages = this.$.pages.getDistributedNodes()[0];
      },
      onSelectMenu: function(e){
        var selectedName = e.detail.item.attributes.name.value;
        this.pages.selected = selectedName;
        this.$.drawer.closeDrawer();
      }
    });
  </script>
</polymer-element>
